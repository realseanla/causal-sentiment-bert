In this paper we introduce a new approach for approximately counting in bounded degree systems with higher-order constraints.
Our main result is an algorithm to approximately count the number of solutions to a CNF formula $\Phi$ with at least $k$ variables per clause and degree at most $d$ when $k$ is logarithmic in $d$.
This closes an exponential gap between the known upper and lower bounds.
